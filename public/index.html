<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Scan KTP</title>
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link href='https://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet' type='text/css'>
  	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  	<link src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"></link>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.min.css" />
</head>
<body ondragover="return false">

	<div id="splash" style="display: none;">
		<div id="logo-wrap" class="header">
			<canvas id="logo-canvas"></canvas>			
			<div id='slogan'></div>
		</div>
		<div class='get-started-wrap'>
			<div class='get-started'>
				<svg id="github" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
			</div>							
			</a>
		</div>
	</div>

	<div id='demo'>	
		<div id='demo-body'>      	
		<div id='demo-content'>
			<div>					
				<canvas id='input-overlay'></canvas>
				<img id='inputx' src="img/contoh.jpeg"/>
				<video id="video" preload="metadata" style="display: none; max-width: 100%;" autoplay playsinline></video>					
			</div>		
			<div id="arrow"></div>				
			<div>
				<button id="snap" style="display: none;">Capture  <i class="fa-solid fa-play"></i></button>
				<button id="recap" style="display: none;" disabled>Recapture	<i class="fa-solid fa-repeat"></i></button>
				<select id="resolution" style="background-color: #be39d3; display: none;">
					<option value="" selected>Select Resolution First</option>
					<option id="low" value="0.5" style="background-color: #7939d3;">Low</option>
					<option id="normal" value="1" style="background-color: #be39d3;">Normal</option>
					<option id="high" value="1.5" style="background-color: #d3399a;">High</option>
					<option id="best" value="2" style="background-color: #d3395d;">Best</option>
					<option id="highest" value="3" style="background-color: #d33939;">Highest</option>
				</select>
				<button id="saveclon">Save Image <i class="fa-solid fa-download"></i></button>
				<button id="start-crop">Crop Image	<i class="fa-solid fa-crop-simple"></i></button>
				<button id="save-crop" style="display: none;">Crop	<i class="fa-solid fa-crop-simple"></i></button>
				<button id="stop-crop" style="display: none;">Stop Crop	<i class="fa-solid fa-circle-xmark"></i></button>
				<button id="save" onclick="saveImage()" style="display: none;" disabled>Save Image	<i class="fa-solid fa-download"></i></button>
				<button id="cancelsave" style="display: none;">Cancel Save	<i class="fa-regular fa-circle-xmark"></i></button>
				<div id='log'></div>
				<div id='demo-instructions'>
					<span id='clickme' onclick='play()'>Click here to recognize text in the demo image</span>, or drop <span class='drop-instructions'>an English</span> image anywhere on this page.
				</div>					
			</div>
		</div>
		<div id='drop-instructions-main'>
        	<input onclick="changex()" type="file" name="file-1[]" id="file-1" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" multiple />
			<label for="file-1">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17">
					<path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/>
				</svg> 
				<span>
					Choose a file&hellip;
				</span>
            </label>

			<button id="start" disabled>Open Camera	<i class="fa fa-camera" aria-hidden="true"></i></button>
			<button id="switchcam" style="display: none;" disabled>Switch Camera	<i class="fa-solid fa-camera-rotate"></i></button>
			<button id="stop" style="display: none;">Stop Camera  <i class="fa-solid fa-circle-stop"></i></i></button>
		
			<p class="dragdrop">Drag and drop <span class='drop-instructions'>foto KTP</span> ke halaman ini untuk scan!</p>
			<p class="pilihg">Pilih gambar yang jelas dan jernih, seperti contoh gambar.</p>
			<p class="pilihg">Refresh halaman jika hasil scan tidak muncul.</p>

      	</div>
		  <div id='options'>
			<div style="display: none;" class="option selected" lang='ind'></div>        
		</div>
		</div>		
	</div>

	<script src="animation/raf.js"></script>
	<script src="animation/mouse.js"></script>
	<script src="animation/dimensions.js"></script>
	<script src="animation/hypercube.js"></script>
	<script src="animation/animate.js"></script>
	<!-- <script src="../node_modules/cropperjs/dist/cropper.min.js"></script> -->
  	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/js/all.min.js"></script>
	<script src="https://unpkg.com/tesseract.js@2.0.0/dist/tesseract.min.js" integrity="sha384-MTEb82ufpBJ2VCTmPZlD/+vgiT5z6zmOwqU/uDO9IobYm9xCOUEN0WH3czf6ppl8" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.min.js"></script>
	<script src="demo.js"></script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-83153710-3', 'auto', 'origin');
	  ga('origin.send', 'pageview');
	  ga('create', 'UA-139963961-1', 'auto', 'addon');
	  ga('addon.send', 'pageview');

	</script>
	<script>
    	if (location.protocol === "http:" && !location.host.startsWith('localhost')) {
     	 location.replace("https" + window.location.href.slice(4));
    	}
  	</script>
	
	<script src="https://cdn.jsdelivr.net/npm/tesseract.js@v4.0.0/dist/tesseract.min.js"></script>
</body>
</html>